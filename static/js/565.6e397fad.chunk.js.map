{"version":3,"file":"static/js/565.6e397fad.chunk.js","mappings":"sMAsDA,UAjDe,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAMMC,EAAQF,EAAaG,IAAI,SAU/B,OARAC,EAAAA,EAAAA,YAAU,WACJF,IACFG,EAAAA,EAAAA,IAAiBH,GAAOI,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC9BX,EAAQW,EAAKC,QACd,GAEJ,GAAE,CAACN,KAGF,4BACE,wBAAI,mBACJ,kBAAMO,SAlBY,SAAAC,GACpBA,EAAEC,iBACFV,EAAgBR,EAAQ,CAAES,MAAOT,GAAU,CAAC,EAC7C,EAeG,WACE,kBACEmB,SAAU,SAAAF,GAAC,OAAIhB,EAASgB,EAAEG,OAAOpB,MAAtB,EACXA,MAAOA,EACPqB,KAAK,OACLC,KAAK,WACLC,YAAY,gBAEd,4BAAQ,eAEV,mBACA,wBACGrB,GACCA,EAAKsB,KAAI,SAAAC,GAAE,OACT,yBACE,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAMvB,GAAYwB,GAAE,kBAAaH,EAAGI,IAAnD,SACGJ,EAAGK,kBAFCL,EAAGI,GADH,QAUpB,C,+LClDKE,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAMpB,EAAgB,mCAAG,WAAMH,GAAN,iFACjBuB,EAAAA,EAAAA,IAAA,gBAA2B,CACtCC,OAAQ,CACNxB,MAAAA,EACAyB,QAASH,KAJiB,mFAAH,sDAShBI,EAAY,mCAAG,WAAMN,GAAN,iFACbG,EAAAA,EAAAA,IAAA,iBAAoBH,EAApB,4BAA0CE,IAD7B,mFAAH,sDAIZK,EAAkB,mCAAG,8FACnBJ,EAAAA,EAAAA,IAAA,sCAAyCD,IADtB,mFAAH,qDAIlBM,EAAc,mCAAG,WAAMR,GAAN,iFACfG,EAAAA,EAAAA,IAAA,iBAAoBH,EAApB,oBAAkCE,IADnB,mFAAH,sDAIdO,EAAgB,mCAAG,WAAMT,GAAN,iFACjBG,EAAAA,EAAAA,IAAA,iBAAoBH,EAApB,4BAA0CE,IADzB,mFAAH,qD","sources":["pages/Search.jsx","services/api.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { fetchSearchMovie } from '../services/api';\nimport { useLocation } from 'react-router-dom';\nconst Search = () => {\n  const [value, setValue] = useState('');\n  const [list, setList] = useState('');\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const onSubmitSeart = e => {\n    e.preventDefault();\n    setSearchParams(value ? { query: value } : {});\n  };\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query) {\n      fetchSearchMovie(query).then(({ data }) => {\n        setList(data.results);\n      });\n    }\n  }, [query]);\n\n  return (\n    <div>\n      <h1>Search movies</h1>\n      <form onSubmit={onSubmitSeart}>\n        <input\n          onChange={e => setValue(e.target.value)}\n          value={value}\n          type=\"text\"\n          name=\"lastName\"\n          placeholder=\"Enter film\"\n        />\n        <button>Search</button>\n      </form>\n      <hr />\n      <ul>\n        {list &&\n          list.map(el => (\n            <li key={el.id}>\n              <Link state={{ from: location }} to={`/movies/${el.id}`}>\n                {el.original_title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst key = 'caae91fa03dadd61d2d243ec0631262a';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchSearchMovie = async query => {\n  return await axios.get(`/search/movie`, {\n    params: {\n      query,\n      api_key: key,\n    },\n  });\n};\n\nexport const fetchCredits = async id => {\n  return await axios.get(`/movie/${id}/credits?api_key=${key}`);\n};\n\nexport const fetchTrendingMovie = async () => {\n  return await axios.get(`/trending/movie/day?api_key=${key}`);\n};\n\nexport const fetchMovieById = async id => {\n  return await axios.get(`/movie/${id}?api_key=${key}`);\n};\n\nexport const fetchMovieReview = async id => {\n  return await axios.get(`/movie/${id}/reviews?api_key=${key}`);\n};\n"],"names":["useState","value","setValue","list","setList","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchSearchMovie","then","data","results","onSubmit","e","preventDefault","onChange","target","type","name","placeholder","map","el","state","from","to","id","original_title","key","axios","params","api_key","fetchCredits","fetchTrendingMovie","fetchMovieById","fetchMovieReview"],"sourceRoot":""}